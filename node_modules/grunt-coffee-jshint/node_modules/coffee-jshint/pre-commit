#!/bin/sh

# Allows us to read user input below, assigns stdin to keyboard
# http://stackoverflow.com/questions/3417896/how-do-i-prompt-the-user-from-within-a-commit-msg-hook
exec < /dev/tty

# Run Coffee->JSHint
~/dev/coffee-jshint/scripts/find-and-hint.sh .
if [ $? -ne 0 ]; then
  read -p "Would you like to ignore JSHint warnings and commit anyway? (y/n) " choice
  case "$choice" in
    [yY] ) exit 0;;
    [nN] ) exit 1;;
    * ) exit 1;;
  esac
fi
